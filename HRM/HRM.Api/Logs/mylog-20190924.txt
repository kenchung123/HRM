2019-09-24T16:28:21.8775021+07:00 0HLQ0Q635EC4C:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-09-24T16:28:22.1097033+07:00 0HLQ0Q635EC4C:00000001 [INF] Request finished in 240.1144ms 404  (791a596a)
2019-09-24T16:53:51.5144355+07:00 0HLQ0QKD69TT4:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-09-24T16:53:51.6198803+07:00 0HLQ0QKD69TT4:00000001 [INF] Request finished in 129.6079ms 404  (791a596a)
2019-09-24T16:53:59.7073593+07:00 0HLQ0QKD69TT4:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger   (ca22a1cb)
2019-09-24T16:53:59.7152171+07:00 0HLQ0QKD69TT4:00000002 [INF] Request finished in 8.0847ms 301  (791a596a)
2019-09-24T16:53:59.7301129+07:00 0HLQ0QKD69TT4:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/   (ca22a1cb)
2019-09-24T16:53:59.7752948+07:00 0HLQ0QKD69TT4:00000003 [INF] Request finished in 45.6133ms 200 text/html (791a596a)
2019-09-24T16:53:59.7837303+07:00 0HLQ0QKD69TT4:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css   (ca22a1cb)
2019-09-24T16:53:59.8139154+07:00 0HLQ0QKD69TT4:00000004 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T16:53:59.8141719+07:00 0HLQ0QKD69TT4:00000004 [INF] Request finished in 30.5993ms 200 text/css (791a596a)
2019-09-24T16:53:59.8199105+07:00 0HLQ0QKD69TT9:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js   (ca22a1cb)
2019-09-24T16:53:59.8207190+07:00 0HLQ0QKD69TT4:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2019-09-24T16:53:59.8926460+07:00 0HLQ0QKD69TT4:00000005 [INF] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T16:53:59.8968105+07:00 0HLQ0QKD69TT4:00000005 [INF] Request finished in 76.2424ms 200 application/javascript (791a596a)
2019-09-24T16:53:59.8977583+07:00 0HLQ0QKD69TT9:00000001 [INF] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T16:53:59.8980582+07:00 0HLQ0QKD69TT9:00000001 [INF] Request finished in 78.2285ms 200 application/javascript (791a596a)
2019-09-24T16:54:00.4455636+07:00 0HLQ0QKD69TT4:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger   (ca22a1cb)
2019-09-24T16:54:00.4466594+07:00 0HLQ0QKD69TT4:00000006 [INF] Request finished in 1.8219ms 301  (791a596a)
2019-09-24T16:54:00.4652925+07:00 0HLQ0QKD69TT4:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/   (ca22a1cb)
2019-09-24T16:54:00.4683381+07:00 0HLQ0QKD69TT4:00000007 [INF] Request finished in 2.5146ms 200 text/html (791a596a)
2019-09-24T16:54:00.5338093+07:00 0HLQ0QKD69TT9:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js   (ca22a1cb)
2019-09-24T16:54:00.5397863+07:00 0HLQ0QKD69TT4:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css   (ca22a1cb)
2019-09-24T16:54:00.5459489+07:00 0HLQ0QKD69TT4:00000008 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T16:54:00.5462541+07:00 0HLQ0QKD69TT4:00000008 [INF] Request finished in 6.6914ms 200 text/css (791a596a)
2019-09-24T16:54:00.5519424+07:00 0HLQ0QKD69TT9:00000002 [INF] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T16:54:00.5524360+07:00 0HLQ0QKD69TT9:00000002 [INF] Request finished in 18.7269ms 200 application/javascript (791a596a)
2019-09-24T16:54:00.5679817+07:00 0HLQ0QKD69TT4:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2019-09-24T16:54:00.5692733+07:00 0HLQ0QKD69TT4:00000009 [INF] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T16:54:00.5698659+07:00 0HLQ0QKD69TT4:00000009 [INF] Request finished in 1.983ms 200 application/javascript (791a596a)
2019-09-24T16:54:00.9803965+07:00 0HLQ0QKD69TT9:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json   (ca22a1cb)
2019-09-24T16:54:01.2133970+07:00 0HLQ0QKD69TT9:00000003 [INF] Request finished in 233.2712ms 200 application/json (791a596a)
2019-09-24T16:55:27.9853161+07:00 0HLQ0QKD69TT9:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Employee application/json 302 (ca22a1cb)
2019-09-24T16:55:27.9879209+07:00 0HLQ0QKD69TT9:00000004 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T16:55:27.9904546+07:00 0HLQ0QKD69TT9:00000004 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T16:55:27.9965417+07:00 0HLQ0QKD69TT9:00000004 [INF] Executing endpoint '"HRM.Api.Controllers.EmployeeController.Post (HRM.Api)"' (500cc934)
2019-09-24T16:55:28.0513843+07:00 0HLQ0QKD69TT9:00000004 [INF] Route matched with "{action = \"Post\", controller = \"Employee\"}". Executing controller action with signature "HRM.Model.ViewModel.Employees.EmployeeViewModel Post(HRM.Model.ViewModel.Employees.EmployeeViewModel)" on controller "HRM.Api.Controllers.EmployeeController" ("HRM.Api"). (122b2fdf)
2019-09-24T16:55:28.3137580+07:00 0HLQ0QKD69TT9:00000004 [INF] Executing action method "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T16:55:28.6183748+07:00 0HLQ0QKD69TT9:00000004 [WRN] No type was specified for the decimal column '"Coefficient"' on entity type '"Employee"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2019-09-24T16:55:28.6729189+07:00 0HLQ0QKD69TT9:00000004 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T16:55:29.3979063+07:00 0HLQ0QKD69TT9:00000004 [ERR] Failed executing DbCommand ("235"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Employee] ([Id], [Address], [BasicSalary], [Coefficient], [CreatedBy], [DateCreated], [DateOfBirth], [Email], [EmployeeName], [Flags], [HireDay], [IsDelete], [IsManager], [LastModified], [OwnerId], [Password], [PositionId], [UnitId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:bcee3107-e15c-48cd-9d3e-f295c79813e1
Error Number:547,State:0,Class:16
2019-09-24T16:55:29.4037096+07:00 0HLQ0QKD69TT9:00000004 [ERR] An exception occurred in the database while saving changes for context type '"HRM.Model.HRMDBContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Employee_Position_PositionId\". The conflict occurred in database \"HRMHIHI\", table \"dbo.Position\", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at HRM.Model.HRMDBContext.SaveChanges() in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Model/HRMDBContext.cs:line 34
   at HRM.UnitOfWork.Repositories.UnitOfWork`1.SaveChanges(Boolean ensureAutoHistory) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.UnitOfWork/Repositories/UnitOfWork.cs:line 135
   at HRM.Service.Collections.ServiceBase`2.CreateViewModel(TViewModelEntity viewModelEntity) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Service/Collections/ServiceBase.cs:line 114
   at HRM.Api.Controllers.EmployeeController.Post(EmployeeViewModel employee) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Api/Controllers/EmployeeController.cs:line 49
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
2019-09-24T16:55:29.4096205+07:00 0HLQ0QKD69TT9:00000004 [INF] Executed action "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)" in 1352.8828ms (afa2e885)
2019-09-24T16:55:29.4099926+07:00 0HLQ0QKD69TT9:00000004 [INF] Executed endpoint '"HRM.Api.Controllers.EmployeeController.Post (HRM.Api)"' (99874f2b)
2019-09-24T16:55:29.4241273+07:00 0HLQ0QKD69TT9:00000004 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at HRM.Model.HRMDBContext.SaveChanges() in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Model/HRMDBContext.cs:line 34
   at HRM.UnitOfWork.Repositories.UnitOfWork`1.SaveChanges(Boolean ensureAutoHistory) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.UnitOfWork/Repositories/UnitOfWork.cs:line 135
   at HRM.Service.Collections.ServiceBase`2.CreateViewModel(TViewModelEntity viewModelEntity) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Service/Collections/ServiceBase.cs:line 114
   at HRM.Api.Controllers.EmployeeController.Post(EmployeeViewModel employee) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Api/Controllers/EmployeeController.cs:line 49
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIIndexMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-24T16:55:29.4602033+07:00 0HLQ0QKD69TT9:00000004 [INF] Request finished in 1474.9851ms 500 text/html; charset=utf-8 (791a596a)
2019-09-24T16:57:04.4529439+07:00 0HLQ0QKD69TT9:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Employee application/json 302 (ca22a1cb)
2019-09-24T16:57:04.4536712+07:00 0HLQ0QKD69TT9:00000005 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T16:57:04.4544124+07:00 0HLQ0QKD69TT9:00000005 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T16:57:04.4588882+07:00 0HLQ0QKD69TT9:00000005 [INF] Executing endpoint '"HRM.Api.Controllers.EmployeeController.Post (HRM.Api)"' (500cc934)
2019-09-24T16:57:04.4600801+07:00 0HLQ0QKD69TT9:00000005 [INF] Route matched with "{action = \"Post\", controller = \"Employee\"}". Executing controller action with signature "HRM.Model.ViewModel.Employees.EmployeeViewModel Post(HRM.Model.ViewModel.Employees.EmployeeViewModel)" on controller "HRM.Api.Controllers.EmployeeController" ("HRM.Api"). (122b2fdf)
2019-09-24T16:57:04.4643161+07:00 0HLQ0QKD69TT9:00000005 [INF] Executing action method "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T16:57:04.4679021+07:00 0HLQ0QKD69TT9:00000005 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T16:57:04.4998985+07:00 0HLQ0QKD69TT9:00000005 [ERR] Failed executing DbCommand ("21"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Employee] ([Id], [Address], [BasicSalary], [Coefficient], [CreatedBy], [DateCreated], [DateOfBirth], [Email], [EmployeeName], [Flags], [HireDay], [IsDelete], [IsManager], [LastModified], [OwnerId], [Password], [PositionId], [UnitId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:bcee3107-e15c-48cd-9d3e-f295c79813e1
Error Number:547,State:0,Class:16
2019-09-24T16:57:04.5061052+07:00 0HLQ0QKD69TT9:00000005 [ERR] An exception occurred in the database while saving changes for context type '"HRM.Model.HRMDBContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Employee_Position_PositionId\". The conflict occurred in database \"HRMHIHI\", table \"dbo.Position\", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at HRM.Model.HRMDBContext.SaveChanges() in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Model/HRMDBContext.cs:line 34
   at HRM.UnitOfWork.Repositories.UnitOfWork`1.SaveChanges(Boolean ensureAutoHistory) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.UnitOfWork/Repositories/UnitOfWork.cs:line 135
   at HRM.Service.Collections.ServiceBase`2.CreateViewModel(TViewModelEntity viewModelEntity) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Service/Collections/ServiceBase.cs:line 114
   at HRM.Api.Controllers.EmployeeController.Post(EmployeeViewModel employee) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Api/Controllers/EmployeeController.cs:line 49
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
2019-09-24T16:57:04.5085887+07:00 0HLQ0QKD69TT9:00000005 [INF] Executed action "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)" in 47.6212ms (afa2e885)
2019-09-24T16:57:04.5097546+07:00 0HLQ0QKD69TT9:00000005 [INF] Executed endpoint '"HRM.Api.Controllers.EmployeeController.Post (HRM.Api)"' (99874f2b)
2019-09-24T16:57:04.5158766+07:00 0HLQ0QKD69TT9:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at HRM.Model.HRMDBContext.SaveChanges() in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Model/HRMDBContext.cs:line 34
   at HRM.UnitOfWork.Repositories.UnitOfWork`1.SaveChanges(Boolean ensureAutoHistory) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.UnitOfWork/Repositories/UnitOfWork.cs:line 135
   at HRM.Service.Collections.ServiceBase`2.CreateViewModel(TViewModelEntity viewModelEntity) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Service/Collections/ServiceBase.cs:line 114
   at HRM.Api.Controllers.EmployeeController.Post(EmployeeViewModel employee) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Api/Controllers/EmployeeController.cs:line 49
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIIndexMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-24T16:57:04.5472250+07:00 0HLQ0QKD69TT9:00000005 [INF] Request finished in 94.1852ms 500 text/html; charset=utf-8 (791a596a)
2019-09-24T16:57:05.1129413+07:00 0HLQ0QKD69TT9:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Employee application/json 302 (ca22a1cb)
2019-09-24T16:57:05.1135650+07:00 0HLQ0QKD69TT9:00000006 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T16:57:05.1140730+07:00 0HLQ0QKD69TT9:00000006 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T16:57:05.1146964+07:00 0HLQ0QKD69TT9:00000006 [INF] Executing endpoint '"HRM.Api.Controllers.EmployeeController.Post (HRM.Api)"' (500cc934)
2019-09-24T16:57:05.1158960+07:00 0HLQ0QKD69TT9:00000006 [INF] Route matched with "{action = \"Post\", controller = \"Employee\"}". Executing controller action with signature "HRM.Model.ViewModel.Employees.EmployeeViewModel Post(HRM.Model.ViewModel.Employees.EmployeeViewModel)" on controller "HRM.Api.Controllers.EmployeeController" ("HRM.Api"). (122b2fdf)
2019-09-24T16:57:05.1182422+07:00 0HLQ0QKD69TT9:00000006 [INF] Executing action method "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T16:57:05.1207296+07:00 0HLQ0QKD69TT9:00000006 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T16:57:05.1771801+07:00 0HLQ0QKD69TT9:00000006 [ERR] Failed executing DbCommand ("49"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Employee] ([Id], [Address], [BasicSalary], [Coefficient], [CreatedBy], [DateCreated], [DateOfBirth], [Email], [EmployeeName], [Flags], [HireDay], [IsDelete], [IsManager], [LastModified], [OwnerId], [Password], [PositionId], [UnitId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:bcee3107-e15c-48cd-9d3e-f295c79813e1
Error Number:547,State:0,Class:16
2019-09-24T16:57:05.1880572+07:00 0HLQ0QKD69TT9:00000006 [ERR] An exception occurred in the database while saving changes for context type '"HRM.Model.HRMDBContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Employee_Position_PositionId\". The conflict occurred in database \"HRMHIHI\", table \"dbo.Position\", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2019-09-24T16:57:05.1973206+07:00 0HLQ0QKD69TT9:00000006 [INF] Executed action "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)" in 80.4638ms (afa2e885)
2019-09-24T16:57:05.1991415+07:00 0HLQ0QKD69TT9:00000006 [INF] Executed endpoint '"HRM.Api.Controllers.EmployeeController.Post (HRM.Api)"' (99874f2b)
2019-09-24T16:57:05.2079663+07:00 0HLQ0QKD69TT9:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at HRM.Model.HRMDBContext.SaveChanges() in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Model/HRMDBContext.cs:line 34
   at HRM.UnitOfWork.Repositories.UnitOfWork`1.SaveChanges(Boolean ensureAutoHistory) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.UnitOfWork/Repositories/UnitOfWork.cs:line 135
   at HRM.Service.Collections.ServiceBase`2.CreateViewModel(TViewModelEntity viewModelEntity) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Service/Collections/ServiceBase.cs:line 114
   at HRM.Api.Controllers.EmployeeController.Post(EmployeeViewModel employee) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Api/Controllers/EmployeeController.cs:line 49
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIIndexMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-24T16:57:05.2354765+07:00 0HLQ0QKD69TT9:00000006 [INF] Request finished in 123.0698ms 500 text/html; charset=utf-8 (791a596a)
2019-09-24T16:58:04.8361863+07:00 0HLQ0QKD69TT9:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Employee   (ca22a1cb)
2019-09-24T16:58:04.8369974+07:00 0HLQ0QKD69TT9:00000007 [INF] Executing endpoint '"HRM.Api.Controllers.EmployeeController.Get (HRM.Api)"' (500cc934)
2019-09-24T16:58:04.8846114+07:00 0HLQ0QKD69TT9:00000007 [INF] Route matched with "{action = \"Get\", controller = \"Employee\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Get()" on controller "HRM.Api.Controllers.EmployeeController" ("HRM.Api"). (122b2fdf)
2019-09-24T16:58:04.8860156+07:00 0HLQ0QKD69TT9:00000007 [INF] Executing action method "HRM.Api.Controllers.EmployeeController.Get (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T16:58:04.9070182+07:00 0HLQ0QKD69TT9:00000007 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T16:58:05.1546054+07:00 0HLQ0QKD69TT9:00000007 [INF] Executed DbCommand ("49"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Employee] AS [b]
WHERE [b].[IsDelete] = 0" (0723d8ff)
2019-09-24T16:58:05.2104746+07:00 0HLQ0QKD69TT9:00000007 [WRN] Query: '"(from Employee b in DbSet<Employee> where [b].IsDelete == False select [b]).Skip(__p_0).Take(__p_1)"' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-09-24T16:58:05.2717192+07:00 0HLQ0QKD69TT9:00000007 [INF] Executed DbCommand ("42"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[Id], [b].[Address], [b].[BasicSalary], [b].[Coefficient], [b].[CreatedBy], [b].[DateCreated], [b].[DateOfBirth], [b].[Email], [b].[EmployeeName], [b].[Flags], [b].[HireDay], [b].[IsDelete], [b].[IsManager], [b].[LastModified], [b].[OwnerId], [b].[Password], [b].[PositionId], [b].[UnitId], [b].[UserName]
FROM [Employee] AS [b]
WHERE [b].[IsDelete] = 0
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-09-24T16:58:05.3234706+07:00 0HLQ0QKD69TT9:00000007 [INF] Get success (ad2d04e0)
2019-09-24T16:58:05.3301305+07:00 0HLQ0QKD69TT9:00000007 [INF] Executed action method "HRM.Api.Controllers.EmployeeController.Get (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 437.913ms. (50a9e262)
2019-09-24T16:58:05.3459102+07:00 0HLQ0QKD69TT9:00000007 [INF] Executing ObjectResult, writing value of type '"HRM.UnitOfWork.Collections.PagedList`1[[HRM.Model.ViewModel.Employees.EmployeeViewModel, HRM.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-09-24T16:58:05.3587160+07:00 0HLQ0QKD69TT9:00000007 [INF] Executed action "HRM.Api.Controllers.EmployeeController.Get (HRM.Api)" in 473.2172ms (afa2e885)
2019-09-24T16:58:05.3604360+07:00 0HLQ0QKD69TT9:00000007 [INF] Executed endpoint '"HRM.Api.Controllers.EmployeeController.Get (HRM.Api)"' (99874f2b)
2019-09-24T16:58:05.3622592+07:00 0HLQ0QKD69TT9:00000007 [INF] Request finished in 526.5991ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T16:58:05.3984648+07:00 0HLQ0QKD69TT9:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-09-24T16:58:05.3987963+07:00 0HLQ0QKD69TT9:00000008 [INF] Request finished in 0.435ms 404  (791a596a)
2019-09-24T16:59:38.8980766+07:00 0HLQ0QKD69TT9:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Factory application/json 20 (ca22a1cb)
2019-09-24T16:59:38.8985512+07:00 0HLQ0QKD69TT9:00000009 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T16:59:38.8991662+07:00 0HLQ0QKD69TT9:00000009 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T16:59:38.8998570+07:00 0HLQ0QKD69TT9:00000009 [INF] Executing endpoint '"HRM.Api.Controllers.FactoryController.Post (HRM.Api)"' (500cc934)
2019-09-24T16:59:38.9058047+07:00 0HLQ0QKD69TT9:00000009 [INF] Route matched with "{action = \"Post\", controller = \"Factory\"}". Executing controller action with signature "HRM.Model.ViewModel.FactoryViewModels Post(HRM.Model.ViewModel.FactoryViewModels)" on controller "HRM.Api.Controllers.FactoryController" ("HRM.Api"). (122b2fdf)
2019-09-24T16:59:38.9145089+07:00 0HLQ0QKD69TT9:00000009 [INF] Executing action method "HRM.Api.Controllers.FactoryController.Post (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T16:59:38.9268327+07:00 0HLQ0QKD69TT9:00000009 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T16:59:39.0066289+07:00 0HLQ0QKD69TT9:00000009 [INF] Executed DbCommand ("29"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Factory] ([Id], [CreatedBy], [DateCreated], [Flags], [IsDelete], [LastModified], [Name], [OwnerId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);" (0723d8ff)
2019-09-24T16:59:39.0589169+07:00 0HLQ0QKD69TT9:00000009 [INF] Executed action method "HRM.Api.Controllers.FactoryController.Post (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 143.6018ms. (50a9e262)
2019-09-24T16:59:39.0603097+07:00 0HLQ0QKD69TT9:00000009 [INF] Executing ObjectResult, writing value of type '"HRM.Model.ViewModel.FactoryViewModels"'. (8a1b66c8)
2019-09-24T16:59:39.0640183+07:00 0HLQ0QKD69TT9:00000009 [INF] Executed action "HRM.Api.Controllers.FactoryController.Post (HRM.Api)" in 154.558ms (afa2e885)
2019-09-24T16:59:39.0647966+07:00 0HLQ0QKD69TT9:00000009 [INF] Executed endpoint '"HRM.Api.Controllers.FactoryController.Post (HRM.Api)"' (99874f2b)
2019-09-24T16:59:39.0660455+07:00 0HLQ0QKD69TT9:00000009 [INF] Request finished in 167.687ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T17:00:48.4797301+07:00 0HLQ0QKD69TT9:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Unit application/json 52 (ca22a1cb)
2019-09-24T17:00:48.4801019+07:00 0HLQ0QKD69TT9:0000000A [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:00:48.4803711+07:00 0HLQ0QKD69TT9:0000000A [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:00:48.4808105+07:00 0HLQ0QKD69TT9:0000000A [INF] Executing endpoint '"HRM.Api.Controllers.UnitController.Post (HRM.Api)"' (500cc934)
2019-09-24T17:00:48.4864192+07:00 0HLQ0QKD69TT9:0000000A [INF] Route matched with "{action = \"Post\", controller = \"Unit\"}". Executing controller action with signature "HRM.Model.ViewModel.UnitViewModels Post(HRM.Model.ViewModel.UnitViewModels)" on controller "HRM.Api.Controllers.UnitController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:00:48.4934679+07:00 0HLQ0QKD69TT9:0000000A [INF] Executing action method "HRM.Api.Controllers.UnitController.Post (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:00:48.5083931+07:00 0HLQ0QKD69TT9:0000000A [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:00:48.6140120+07:00 0HLQ0QKD69TT9:0000000A [INF] Executed DbCommand ("38"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 4000), @p10='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Unit] ([Id], [CostAccountNumber], [CreatedBy], [DateCreated], [FactoryId], [FactoryId1], [Flags], [IsDelete], [LastModified], [Name], [OwnerId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);" (0723d8ff)
2019-09-24T17:00:48.6654965+07:00 0HLQ0QKD69TT9:0000000A [INF] Executed action method "HRM.Api.Controllers.UnitController.Post (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 171.3783ms. (50a9e262)
2019-09-24T17:00:48.6661987+07:00 0HLQ0QKD69TT9:0000000A [INF] Executing ObjectResult, writing value of type '"HRM.Model.ViewModel.UnitViewModels"'. (8a1b66c8)
2019-09-24T17:00:48.6685693+07:00 0HLQ0QKD69TT9:0000000A [INF] Executed action "HRM.Api.Controllers.UnitController.Post (HRM.Api)" in 181.5004ms (afa2e885)
2019-09-24T17:00:48.6688029+07:00 0HLQ0QKD69TT9:0000000A [INF] Executed endpoint '"HRM.Api.Controllers.UnitController.Post (HRM.Api)"' (99874f2b)
2019-09-24T17:00:48.6691566+07:00 0HLQ0QKD69TT9:0000000A [INF] Request finished in 189.9996ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T17:01:08.7399523+07:00 0HLQ0QKD69TT9:0000000B [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Employee application/json 302 (ca22a1cb)
2019-09-24T17:01:08.7405090+07:00 0HLQ0QKD69TT9:0000000B [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:01:08.7411808+07:00 0HLQ0QKD69TT9:0000000B [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:01:08.7418018+07:00 0HLQ0QKD69TT9:0000000B [INF] Executing endpoint '"HRM.Api.Controllers.EmployeeController.Post (HRM.Api)"' (500cc934)
2019-09-24T17:01:08.7427599+07:00 0HLQ0QKD69TT9:0000000B [INF] Route matched with "{action = \"Post\", controller = \"Employee\"}". Executing controller action with signature "HRM.Model.ViewModel.Employees.EmployeeViewModel Post(HRM.Model.ViewModel.Employees.EmployeeViewModel)" on controller "HRM.Api.Controllers.EmployeeController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:01:08.7445529+07:00 0HLQ0QKD69TT9:0000000B [INF] Executing action method "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:01:08.7461001+07:00 0HLQ0QKD69TT9:0000000B [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:01:08.8097775+07:00 0HLQ0QKD69TT9:0000000B [ERR] Failed executing DbCommand ("58"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Employee] ([Id], [Address], [BasicSalary], [Coefficient], [CreatedBy], [DateCreated], [DateOfBirth], [Email], [EmployeeName], [Flags], [HireDay], [IsDelete], [IsManager], [LastModified], [OwnerId], [Password], [PositionId], [UnitId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:bcee3107-e15c-48cd-9d3e-f295c79813e1
Error Number:547,State:0,Class:16
2019-09-24T17:01:08.8193218+07:00 0HLQ0QKD69TT9:0000000B [ERR] An exception occurred in the database while saving changes for context type '"HRM.Model.HRMDBContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Employee_Position_PositionId\". The conflict occurred in database \"HRMHIHI\", table \"dbo.Position\", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at HRM.Model.HRMDBContext.SaveChanges() in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Model/HRMDBContext.cs:line 34
   at HRM.UnitOfWork.Repositories.UnitOfWork`1.SaveChanges(Boolean ensureAutoHistory) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.UnitOfWork/Repositories/UnitOfWork.cs:line 135
   at HRM.Service.Collections.ServiceBase`2.CreateViewModel(TViewModelEntity viewModelEntity) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Service/Collections/ServiceBase.cs:line 114
   at HRM.Api.Controllers.EmployeeController.Post(EmployeeViewModel employee) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Api/Controllers/EmployeeController.cs:line 49
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
2019-09-24T17:01:08.8214389+07:00 0HLQ0QKD69TT9:0000000B [INF] Executed action "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)" in 77.7988ms (afa2e885)
2019-09-24T17:01:08.8224401+07:00 0HLQ0QKD69TT9:0000000B [INF] Executed endpoint '"HRM.Api.Controllers.EmployeeController.Post (HRM.Api)"' (99874f2b)
2019-09-24T17:01:08.8266654+07:00 0HLQ0QKD69TT9:0000000B [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at HRM.Model.HRMDBContext.SaveChanges() in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Model/HRMDBContext.cs:line 34
   at HRM.UnitOfWork.Repositories.UnitOfWork`1.SaveChanges(Boolean ensureAutoHistory) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.UnitOfWork/Repositories/UnitOfWork.cs:line 135
   at HRM.Service.Collections.ServiceBase`2.CreateViewModel(TViewModelEntity viewModelEntity) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Service/Collections/ServiceBase.cs:line 114
   at HRM.Api.Controllers.EmployeeController.Post(EmployeeViewModel employee) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Api/Controllers/EmployeeController.cs:line 49
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIIndexMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-24T17:01:08.8510627+07:00 0HLQ0QKD69TT9:0000000B [INF] Request finished in 111.6846ms 500 text/html; charset=utf-8 (791a596a)
2019-09-24T17:01:16.1619106+07:00 0HLQ0QKD69TT9:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Employee application/json 302 (ca22a1cb)
2019-09-24T17:01:16.1625142+07:00 0HLQ0QKD69TT9:0000000C [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:01:16.1627558+07:00 0HLQ0QKD69TT9:0000000C [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:01:16.1635406+07:00 0HLQ0QKD69TT9:0000000C [INF] Executing endpoint '"HRM.Api.Controllers.EmployeeController.Post (HRM.Api)"' (500cc934)
2019-09-24T17:01:16.1645131+07:00 0HLQ0QKD69TT9:0000000C [INF] Route matched with "{action = \"Post\", controller = \"Employee\"}". Executing controller action with signature "HRM.Model.ViewModel.Employees.EmployeeViewModel Post(HRM.Model.ViewModel.Employees.EmployeeViewModel)" on controller "HRM.Api.Controllers.EmployeeController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:01:16.1657994+07:00 0HLQ0QKD69TT9:0000000C [INF] Executing action method "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:01:16.1666863+07:00 0HLQ0QKD69TT9:0000000C [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:01:16.1930644+07:00 0HLQ0QKD69TT9:0000000C [ERR] Failed executing DbCommand ("23"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Employee] ([Id], [Address], [BasicSalary], [Coefficient], [CreatedBy], [DateCreated], [DateOfBirth], [Email], [EmployeeName], [Flags], [HireDay], [IsDelete], [IsManager], [LastModified], [OwnerId], [Password], [PositionId], [UnitId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:bcee3107-e15c-48cd-9d3e-f295c79813e1
Error Number:547,State:0,Class:16
2019-09-24T17:01:16.2013242+07:00 0HLQ0QKD69TT9:0000000C [ERR] An exception occurred in the database while saving changes for context type '"HRM.Model.HRMDBContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Employee_Position_PositionId\". The conflict occurred in database \"HRMHIHI\", table \"dbo.Position\", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2019-09-24T17:01:16.2033987+07:00 0HLQ0QKD69TT9:0000000C [INF] Executed action "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)" in 38.3517ms (afa2e885)
2019-09-24T17:01:16.2039461+07:00 0HLQ0QKD69TT9:0000000C [INF] Executed endpoint '"HRM.Api.Controllers.EmployeeController.Post (HRM.Api)"' (99874f2b)
2019-09-24T17:01:16.2071369+07:00 0HLQ0QKD69TT9:0000000C [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at HRM.Model.HRMDBContext.SaveChanges() in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Model/HRMDBContext.cs:line 34
   at HRM.UnitOfWork.Repositories.UnitOfWork`1.SaveChanges(Boolean ensureAutoHistory) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.UnitOfWork/Repositories/UnitOfWork.cs:line 135
   at HRM.Service.Collections.ServiceBase`2.CreateViewModel(TViewModelEntity viewModelEntity) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Service/Collections/ServiceBase.cs:line 114
   at HRM.Api.Controllers.EmployeeController.Post(EmployeeViewModel employee) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Api/Controllers/EmployeeController.cs:line 49
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIIndexMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-24T17:01:16.2284980+07:00 0HLQ0QKD69TT9:0000000C [INF] Request finished in 66.6905ms 500 text/html; charset=utf-8 (791a596a)
2019-09-24T17:03:17.3767413+07:00 0HLQ0QKD69TTD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Factory   (ca22a1cb)
2019-09-24T17:03:17.3772120+07:00 0HLQ0QKD69TTD:00000001 [INF] Executing endpoint '"HRM.Api.Controllers.FactoryController.Get (HRM.Api)"' (500cc934)
2019-09-24T17:03:17.3835088+07:00 0HLQ0QKD69TTD:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Factory\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Get()" on controller "HRM.Api.Controllers.FactoryController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:03:17.3842217+07:00 0HLQ0QKD69TTD:00000001 [INF] Executing action method "HRM.Api.Controllers.FactoryController.Get (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:03:17.3875564+07:00 0HLQ0QKD69TTD:00000001 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:03:17.5485490+07:00 0HLQ0QKD69TTD:00000001 [INF] Executed DbCommand ("153"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Factory] AS [b]
WHERE [b].[IsDelete] = 0" (0723d8ff)
2019-09-24T17:03:17.5539836+07:00 0HLQ0QKD69TTD:00000001 [WRN] Query: '"(from Factory b in DbSet<Factory> where [b].IsDelete == False select [b]).Skip(__p_0).Take(__p_1)"' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-09-24T17:03:17.5820217+07:00 0HLQ0QKD69TTD:00000001 [INF] Executed DbCommand ("15"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[Id], [b].[CreatedBy], [b].[DateCreated], [b].[Flags], [b].[IsDelete], [b].[LastModified], [b].[Name], [b].[OwnerId]
FROM [Factory] AS [b]
WHERE [b].[IsDelete] = 0
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-09-24T17:03:17.5940523+07:00 0HLQ0QKD69TTD:00000001 [INF] Get success (ad2d04e0)
2019-09-24T17:03:17.5946782+07:00 0HLQ0QKD69TTD:00000001 [INF] Executed action method "HRM.Api.Controllers.FactoryController.Get (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 210.1291ms. (50a9e262)
2019-09-24T17:03:17.5950075+07:00 0HLQ0QKD69TTD:00000001 [INF] Executing ObjectResult, writing value of type '"HRM.UnitOfWork.Collections.PagedList`1[[HRM.Model.ViewModel.FactoryViewModels, HRM.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-09-24T17:03:17.6019710+07:00 0HLQ0QKD69TTD:00000001 [INF] Executed action "HRM.Api.Controllers.FactoryController.Get (HRM.Api)" in 218.0853ms (afa2e885)
2019-09-24T17:03:17.6022224+07:00 0HLQ0QKD69TTD:00000001 [INF] Executed endpoint '"HRM.Api.Controllers.FactoryController.Get (HRM.Api)"' (99874f2b)
2019-09-24T17:03:17.6025514+07:00 0HLQ0QKD69TTD:00000001 [INF] Request finished in 225.9574ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T17:03:51.8642705+07:00 0HLQ0QKD69TTD:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Unit   (ca22a1cb)
2019-09-24T17:03:51.8651115+07:00 0HLQ0QKD69TTD:00000002 [INF] Executing endpoint '"HRM.Api.Controllers.UnitController.Get (HRM.Api)"' (500cc934)
2019-09-24T17:03:51.8827770+07:00 0HLQ0QKD69TTD:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Unit\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Get()" on controller "HRM.Api.Controllers.UnitController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:03:51.8873721+07:00 0HLQ0QKD69TTD:00000002 [INF] Executing action method "HRM.Api.Controllers.UnitController.Get (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:03:51.8938896+07:00 0HLQ0QKD69TTD:00000002 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:03:52.0573597+07:00 0HLQ0QKD69TTD:00000002 [INF] Executed DbCommand ("152"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Unit] AS [b]
WHERE [b].[IsDelete] = 0" (0723d8ff)
2019-09-24T17:03:52.0602786+07:00 0HLQ0QKD69TTD:00000002 [WRN] Query: '"(from Unit b in DbSet<Unit> where [b].IsDelete == False select [b]).Skip(__p_0).Take(__p_1)"' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-09-24T17:03:52.0765668+07:00 0HLQ0QKD69TTD:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[Id], [b].[CostAccountNumber], [b].[CreatedBy], [b].[DateCreated], [b].[FactoryId], [b].[FactoryId1], [b].[Flags], [b].[IsDelete], [b].[LastModified], [b].[Name], [b].[OwnerId]
FROM [Unit] AS [b]
WHERE [b].[IsDelete] = 0
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-09-24T17:03:52.1024603+07:00 0HLQ0QKD69TTD:00000002 [INF] Get success (ad2d04e0)
2019-09-24T17:03:52.1030389+07:00 0HLQ0QKD69TTD:00000002 [INF] Executed action method "HRM.Api.Controllers.UnitController.Get (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 214.1939ms. (50a9e262)
2019-09-24T17:03:52.1036093+07:00 0HLQ0QKD69TTD:00000002 [INF] Executing ObjectResult, writing value of type '"HRM.UnitOfWork.Collections.PagedList`1[[HRM.Model.ViewModel.UnitViewModels, HRM.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-09-24T17:03:52.1101171+07:00 0HLQ0QKD69TTD:00000002 [INF] Executed action "HRM.Api.Controllers.UnitController.Get (HRM.Api)" in 226.3749ms (afa2e885)
2019-09-24T17:03:52.1103615+07:00 0HLQ0QKD69TTD:00000002 [INF] Executed endpoint '"HRM.Api.Controllers.UnitController.Get (HRM.Api)"' (99874f2b)
2019-09-24T17:03:52.1106546+07:00 0HLQ0QKD69TTD:00000002 [INF] Request finished in 247.0517ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T17:04:11.6669089+07:00 0HLQ0QKD69TTD:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Employee application/json 408 (ca22a1cb)
2019-09-24T17:04:11.6672018+07:00 0HLQ0QKD69TTD:00000003 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:04:11.6674101+07:00 0HLQ0QKD69TTD:00000003 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:04:11.6676058+07:00 0HLQ0QKD69TTD:00000003 [INF] Executing endpoint '"HRM.Api.Controllers.EmployeeController.Post (HRM.Api)"' (500cc934)
2019-09-24T17:04:11.6679527+07:00 0HLQ0QKD69TTD:00000003 [INF] Route matched with "{action = \"Post\", controller = \"Employee\"}". Executing controller action with signature "HRM.Model.ViewModel.Employees.EmployeeViewModel Post(HRM.Model.ViewModel.Employees.EmployeeViewModel)" on controller "HRM.Api.Controllers.EmployeeController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:04:11.6693751+07:00 0HLQ0QKD69TTD:00000003 [INF] Executing action method "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:04:11.6700973+07:00 0HLQ0QKD69TTD:00000003 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:04:11.6738830+07:00 0HLQ0QKD69TTD:00000003 [ERR] Failed executing DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Employee] ([Id], [Address], [BasicSalary], [Coefficient], [CreatedBy], [DateCreated], [DateOfBirth], [Email], [EmployeeName], [Flags], [HireDay], [IsDelete], [IsManager], [LastModified], [OwnerId], [Password], [PositionId], [UnitId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:bcee3107-e15c-48cd-9d3e-f295c79813e1
Error Number:547,State:0,Class:16
2019-09-24T17:04:11.6762885+07:00 0HLQ0QKD69TTD:00000003 [ERR] An exception occurred in the database while saving changes for context type '"HRM.Model.HRMDBContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Employee_Position_PositionId\". The conflict occurred in database \"HRMHIHI\", table \"dbo.Position\", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at HRM.Model.HRMDBContext.SaveChanges() in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Model/HRMDBContext.cs:line 34
   at HRM.UnitOfWork.Repositories.UnitOfWork`1.SaveChanges(Boolean ensureAutoHistory) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.UnitOfWork/Repositories/UnitOfWork.cs:line 135
   at HRM.Service.Collections.ServiceBase`2.CreateViewModel(TViewModelEntity viewModelEntity) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Service/Collections/ServiceBase.cs:line 114
   at HRM.Api.Controllers.EmployeeController.Post(EmployeeViewModel employee) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Api/Controllers/EmployeeController.cs:line 49
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
2019-09-24T17:04:11.6773992+07:00 0HLQ0QKD69TTD:00000003 [INF] Executed action "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)" in 9.1285ms (afa2e885)
2019-09-24T17:04:11.6780809+07:00 0HLQ0QKD69TTD:00000003 [INF] Executed endpoint '"HRM.Api.Controllers.EmployeeController.Post (HRM.Api)"' (99874f2b)
2019-09-24T17:04:11.6799798+07:00 0HLQ0QKD69TTD:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employee_Position_PositionId". The conflict occurred in database "HRMHIHI", table "dbo.Position", column 'PositionId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at HRM.Model.HRMDBContext.SaveChanges() in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Model/HRMDBContext.cs:line 34
   at HRM.UnitOfWork.Repositories.UnitOfWork`1.SaveChanges(Boolean ensureAutoHistory) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.UnitOfWork/Repositories/UnitOfWork.cs:line 135
   at HRM.Service.Collections.ServiceBase`2.CreateViewModel(TViewModelEntity viewModelEntity) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Service/Collections/ServiceBase.cs:line 114
   at HRM.Api.Controllers.EmployeeController.Post(EmployeeViewModel employee) in /home/kenchung/Gitkraken/14092019/HRM/HRM/HRM.Api/Controllers/EmployeeController.cs:line 49
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIIndexMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-24T17:04:11.6943706+07:00 0HLQ0QKD69TTD:00000003 [INF] Request finished in 27.5752ms 500 text/html; charset=utf-8 (791a596a)
2019-09-24T17:04:27.2575885+07:00 0HLQ0QQAMFHH5:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger   (ca22a1cb)
2019-09-24T17:04:27.2918283+07:00 0HLQ0QQAMFHH5:00000001 [INF] Request finished in 42.6176ms 301  (791a596a)
2019-09-24T17:04:27.2980090+07:00 0HLQ0QQAMFHH5:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/   (ca22a1cb)
2019-09-24T17:04:27.3210191+07:00 0HLQ0QQAMFHH5:00000002 [INF] Request finished in 23.0451ms 200 text/html (791a596a)
2019-09-24T17:04:27.3288233+07:00 0HLQ0QQAMFHH5:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css   (ca22a1cb)
2019-09-24T17:04:27.3733996+07:00 0HLQ0QQAMFHH9:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js   (ca22a1cb)
2019-09-24T17:04:27.3762781+07:00 0HLQ0QQAMFHH8:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2019-09-24T17:04:27.3883844+07:00 0HLQ0QQAMFHH5:00000003 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T17:04:27.3904449+07:00 0HLQ0QQAMFHH5:00000003 [INF] Request finished in 60.4519ms 200 text/css (791a596a)
2019-09-24T17:04:27.4195461+07:00 0HLQ0QQAMFHH8:00000001 [INF] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T17:04:27.4217817+07:00 0HLQ0QQAMFHH9:00000001 [INF] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T17:04:27.4258643+07:00 0HLQ0QQAMFHH9:00000001 [INF] Request finished in 52.5374ms 200 application/javascript (791a596a)
2019-09-24T17:04:27.4263340+07:00 0HLQ0QQAMFHH8:00000001 [INF] Request finished in 50.0297ms 200 application/javascript (791a596a)
2019-09-24T17:04:27.5396463+07:00 0HLQ0QQAMFHH9:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger   (ca22a1cb)
2019-09-24T17:04:27.5402518+07:00 0HLQ0QQAMFHH9:00000002 [INF] Request finished in 0.7632ms 301  (791a596a)
2019-09-24T17:04:27.5544155+07:00 0HLQ0QQAMFHH9:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/   (ca22a1cb)
2019-09-24T17:04:27.5552132+07:00 0HLQ0QQAMFHH9:00000003 [INF] Request finished in 0.8969ms 200 text/html (791a596a)
2019-09-24T17:04:27.5812059+07:00 0HLQ0QQAMFHH9:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css   (ca22a1cb)
2019-09-24T17:04:27.5815079+07:00 0HLQ0QQAMFHH5:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2019-09-24T17:04:27.5816329+07:00 0HLQ0QQAMFHH9:00000004 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T17:04:27.5818397+07:00 0HLQ0QQAMFHH9:00000004 [INF] Request finished in 0.8297ms 200 text/css (791a596a)
2019-09-24T17:04:27.5827161+07:00 0HLQ0QQAMFHH5:00000004 [INF] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T17:04:27.5830127+07:00 0HLQ0QQAMFHH8:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js   (ca22a1cb)
2019-09-24T17:04:27.5830870+07:00 0HLQ0QQAMFHH5:00000004 [INF] Request finished in 1.6354ms 200 application/javascript (791a596a)
2019-09-24T17:04:27.5902972+07:00 0HLQ0QQAMFHH8:00000002 [INF] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T17:04:27.5906865+07:00 0HLQ0QQAMFHH8:00000002 [INF] Request finished in 9.5217ms 200 application/javascript (791a596a)
2019-09-24T17:04:27.9465205+07:00 0HLQ0QQAMFHH8:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json   (ca22a1cb)
2019-09-24T17:04:28.1703383+07:00 0HLQ0QQAMFHH8:00000003 [INF] Request finished in 223.8619ms 200 application/json (791a596a)
2019-09-24T17:04:42.5730326+07:00 0HLQ0QQAMFHH8:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Factory   (ca22a1cb)
2019-09-24T17:04:42.6410221+07:00 0HLQ0QQAMFHH8:00000004 [INF] Executing endpoint '"HRM.Api.Controllers.FactoryController.Get (HRM.Api)"' (500cc934)
2019-09-24T17:04:42.6887533+07:00 0HLQ0QQAMFHH8:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Factory\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Get()" on controller "HRM.Api.Controllers.FactoryController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:04:42.8374848+07:00 0HLQ0QQAMFHH8:00000004 [INF] Executing action method "HRM.Api.Controllers.FactoryController.Get (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:04:43.1179767+07:00 0HLQ0QQAMFHH8:00000004 [WRN] No type was specified for the decimal column '"Coefficient"' on entity type '"Employee"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2019-09-24T17:04:43.1732155+07:00 0HLQ0QQAMFHH8:00000004 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:04:43.6307172+07:00 0HLQ0QQAMFHH8:00000004 [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Factory] AS [b]
WHERE [b].[IsDelete] = 0" (0723d8ff)
2019-09-24T17:04:43.6707897+07:00 0HLQ0QQAMFHH8:00000004 [WRN] Query: '"(from Factory b in DbSet<Factory> where [b].IsDelete == False select [b]).Skip(__p_0).Take(__p_1)"' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-09-24T17:04:43.6974561+07:00 0HLQ0QQAMFHH8:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[Id], [b].[CreatedBy], [b].[DateCreated], [b].[Flags], [b].[IsDelete], [b].[LastModified], [b].[Name], [b].[OwnerId]
FROM [Factory] AS [b]
WHERE [b].[IsDelete] = 0
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-09-24T17:04:43.7649302+07:00 0HLQ0QQAMFHH8:00000004 [INF] Get success (ad2d04e0)
2019-09-24T17:04:43.7722152+07:00 0HLQ0QQAMFHH8:00000004 [INF] Executed action method "HRM.Api.Controllers.FactoryController.Get (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 931.1261ms. (50a9e262)
2019-09-24T17:04:43.7907059+07:00 0HLQ0QQAMFHH8:00000004 [INF] Executing ObjectResult, writing value of type '"HRM.UnitOfWork.Collections.PagedList`1[[HRM.Model.ViewModel.FactoryViewModels, HRM.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-09-24T17:04:43.8169893+07:00 0HLQ0QQAMFHH8:00000004 [INF] Executed action "HRM.Api.Controllers.FactoryController.Get (HRM.Api)" in 1122.4907ms (afa2e885)
2019-09-24T17:04:43.8185205+07:00 0HLQ0QQAMFHH8:00000004 [INF] Executed endpoint '"HRM.Api.Controllers.FactoryController.Get (HRM.Api)"' (99874f2b)
2019-09-24T17:04:43.8246526+07:00 0HLQ0QQAMFHH8:00000004 [INF] Request finished in 1251.7476ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T17:05:47.9630966+07:00 0HLQ0QQAMFHH8:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Position   (ca22a1cb)
2019-09-24T17:05:47.9686424+07:00 0HLQ0QQAMFHH8:00000005 [INF] Executing endpoint '"HRM.Api.Controllers.PositionController.Get (HRM.Api)"' (500cc934)
2019-09-24T17:05:47.9768950+07:00 0HLQ0QQAMFHH8:00000005 [INF] Route matched with "{action = \"Get\", controller = \"Position\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Get()" on controller "HRM.Api.Controllers.PositionController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:05:47.9813252+07:00 0HLQ0QQAMFHH8:00000005 [INF] Executing action method "HRM.Api.Controllers.PositionController.Get (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:05:47.9882178+07:00 0HLQ0QQAMFHH8:00000005 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:05:48.0272667+07:00 0HLQ0QQAMFHH8:00000005 [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Position] AS [b]
WHERE [b].[IsDelete] = 0" (0723d8ff)
2019-09-24T17:05:48.0417743+07:00 0HLQ0QQAMFHH8:00000005 [WRN] Query: '"(from Position b in DbSet<Position> where [b].IsDelete == False select [b]).Skip(__p_0).Take(__p_1)"' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-09-24T17:05:48.1246702+07:00 0HLQ0QQAMFHH8:00000005 [INF] Executed DbCommand ("55"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[PositionId], [b].[CreatedBy], [b].[DateCreated], [b].[Flags], [b].[Id], [b].[IsDelete], [b].[LastModified], [b].[Note], [b].[OwnerId], [b].[PositionName]
FROM [Position] AS [b]
WHERE [b].[IsDelete] = 0
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-09-24T17:05:48.1375321+07:00 0HLQ0QQAMFHH8:00000005 [INF] Get success (ad2d04e0)
2019-09-24T17:05:48.1380452+07:00 0HLQ0QQAMFHH8:00000005 [INF] Executed action method "HRM.Api.Controllers.PositionController.Get (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 156.3548ms. (50a9e262)
2019-09-24T17:05:48.1408012+07:00 0HLQ0QQAMFHH8:00000005 [INF] Executing ObjectResult, writing value of type '"HRM.UnitOfWork.Collections.PagedList`1[[HRM.Model.ViewModel.Position.PositionViewModel, HRM.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-09-24T17:05:48.1554496+07:00 0HLQ0QQAMFHH8:00000005 [INF] Executed action "HRM.Api.Controllers.PositionController.Get (HRM.Api)" in 178.1196ms (afa2e885)
2019-09-24T17:05:48.1557538+07:00 0HLQ0QQAMFHH8:00000005 [INF] Executed endpoint '"HRM.Api.Controllers.PositionController.Get (HRM.Api)"' (99874f2b)
2019-09-24T17:05:48.1562982+07:00 0HLQ0QQAMFHH8:00000005 [INF] Request finished in 193.565ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T17:06:06.0625712+07:00 0HLQ0QQAMFHH8:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Position application/json 55 (ca22a1cb)
2019-09-24T17:06:06.0660929+07:00 0HLQ0QQAMFHH8:00000006 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:06:06.0673087+07:00 0HLQ0QQAMFHH8:00000006 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:06:06.0676405+07:00 0HLQ0QQAMFHH8:00000006 [INF] Executing endpoint '"HRM.Api.Controllers.PositionController.Post (HRM.Api)"' (500cc934)
2019-09-24T17:06:06.0920317+07:00 0HLQ0QQAMFHH8:00000006 [INF] Route matched with "{action = \"Post\", controller = \"Position\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[HRM.Model.ViewModel.Position.PositionViewModel] Post(HRM.Model.ViewModel.Position.PositionViewModel)" on controller "HRM.Api.Controllers.PositionController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:06:06.1905389+07:00 0HLQ0QQAMFHH8:00000006 [INF] Executing action method "HRM.Api.Controllers.PositionController.Post (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:06:06.2023528+07:00 0HLQ0QQAMFHH8:00000006 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:06:06.3971791+07:00 0HLQ0QQAMFHH8:00000006 [INF] Executed DbCommand ("28"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (DbType = Guid), @p9='?' (Size = 30)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Position] ([PositionId], [CreatedBy], [DateCreated], [Flags], [Id], [IsDelete], [LastModified], [Note], [OwnerId], [PositionName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);" (0723d8ff)
2019-09-24T17:06:06.4804356+07:00 0HLQ0QQAMFHH8:00000006 [INF] Executed action method "HRM.Api.Controllers.PositionController.Post (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 289.2161ms. (50a9e262)
2019-09-24T17:06:06.4817417+07:00 0HLQ0QQAMFHH8:00000006 [INF] Executing ObjectResult, writing value of type '"HRM.Model.ViewModel.Position.PositionViewModel"'. (8a1b66c8)
2019-09-24T17:06:06.4853348+07:00 0HLQ0QQAMFHH8:00000006 [INF] Executed action "HRM.Api.Controllers.PositionController.Post (HRM.Api)" in 392.8847ms (afa2e885)
2019-09-24T17:06:06.4857689+07:00 0HLQ0QQAMFHH8:00000006 [INF] Executed endpoint '"HRM.Api.Controllers.PositionController.Post (HRM.Api)"' (99874f2b)
2019-09-24T17:06:06.4863816+07:00 0HLQ0QQAMFHH8:00000006 [INF] Request finished in 423.914ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T17:06:51.4977850+07:00 0HLQ0QQAMFHH8:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Unit   (ca22a1cb)
2019-09-24T17:06:51.4986392+07:00 0HLQ0QQAMFHH8:00000007 [INF] Executing endpoint '"HRM.Api.Controllers.UnitController.Get (HRM.Api)"' (500cc934)
2019-09-24T17:06:51.5163665+07:00 0HLQ0QQAMFHH8:00000007 [INF] Route matched with "{action = \"Get\", controller = \"Unit\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Get()" on controller "HRM.Api.Controllers.UnitController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:06:51.5217388+07:00 0HLQ0QQAMFHH8:00000007 [INF] Executing action method "HRM.Api.Controllers.UnitController.Get (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:06:51.5325348+07:00 0HLQ0QQAMFHH8:00000007 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:06:51.5513460+07:00 0HLQ0QQAMFHH8:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Unit] AS [b]
WHERE [b].[IsDelete] = 0" (0723d8ff)
2019-09-24T17:06:51.5580679+07:00 0HLQ0QQAMFHH8:00000007 [WRN] Query: '"(from Unit b in DbSet<Unit> where [b].IsDelete == False select [b]).Skip(__p_0).Take(__p_1)"' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-09-24T17:06:51.5903340+07:00 0HLQ0QQAMFHH8:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[Id], [b].[CostAccountNumber], [b].[CreatedBy], [b].[DateCreated], [b].[FactoryId], [b].[FactoryId1], [b].[Flags], [b].[IsDelete], [b].[LastModified], [b].[Name], [b].[OwnerId]
FROM [Unit] AS [b]
WHERE [b].[IsDelete] = 0
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-09-24T17:06:51.6331312+07:00 0HLQ0QQAMFHH8:00000007 [INF] Get success (ad2d04e0)
2019-09-24T17:06:51.6335961+07:00 0HLQ0QQAMFHH8:00000007 [INF] Executed action method "HRM.Api.Controllers.UnitController.Get (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 110.3631ms. (50a9e262)
2019-09-24T17:06:51.6339367+07:00 0HLQ0QQAMFHH8:00000007 [INF] Executing ObjectResult, writing value of type '"HRM.UnitOfWork.Collections.PagedList`1[[HRM.Model.ViewModel.UnitViewModels, HRM.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-09-24T17:06:51.6448209+07:00 0HLQ0QQAMFHH8:00000007 [INF] Executed action "HRM.Api.Controllers.UnitController.Get (HRM.Api)" in 126.8972ms (afa2e885)
2019-09-24T17:06:51.6450794+07:00 0HLQ0QQAMFHH8:00000007 [INF] Executed endpoint '"HRM.Api.Controllers.UnitController.Get (HRM.Api)"' (99874f2b)
2019-09-24T17:06:51.6453640+07:00 0HLQ0QQAMFHH8:00000007 [INF] Request finished in 148.1892ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T17:07:07.9380419+07:00 0HLQ0QQAMFHH8:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Employee application/json 407 (ca22a1cb)
2019-09-24T17:07:07.9382772+07:00 0HLQ0QQAMFHH8:00000008 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:07:07.9384375+07:00 0HLQ0QQAMFHH8:00000008 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:07:07.9386218+07:00 0HLQ0QQAMFHH8:00000008 [INF] Executing endpoint '"HRM.Api.Controllers.EmployeeController.Post (HRM.Api)"' (500cc934)
2019-09-24T17:07:07.9417762+07:00 0HLQ0QQAMFHH8:00000008 [INF] Route matched with "{action = \"Post\", controller = \"Employee\"}". Executing controller action with signature "HRM.Model.ViewModel.Employees.EmployeeViewModel Post(HRM.Model.ViewModel.Employees.EmployeeViewModel)" on controller "HRM.Api.Controllers.EmployeeController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:07:08.0024704+07:00 0HLQ0QQAMFHH8:00000008 [INF] Executing action method "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:07:08.0187689+07:00 0HLQ0QQAMFHH8:00000008 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:07:08.1153259+07:00 0HLQ0QQAMFHH8:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Employee] ([Id], [Address], [BasicSalary], [Coefficient], [CreatedBy], [DateCreated], [DateOfBirth], [Email], [EmployeeName], [Flags], [HireDay], [IsDelete], [IsManager], [LastModified], [OwnerId], [Password], [PositionId], [UnitId], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);" (0723d8ff)
2019-09-24T17:07:08.1730448+07:00 0HLQ0QQAMFHH8:00000008 [INF] Executed action method "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 170.2354ms. (50a9e262)
2019-09-24T17:07:08.1733880+07:00 0HLQ0QQAMFHH8:00000008 [INF] Executing ObjectResult, writing value of type '"HRM.Model.ViewModel.Employees.EmployeeViewModel"'. (8a1b66c8)
2019-09-24T17:07:08.1812939+07:00 0HLQ0QQAMFHH8:00000008 [INF] Executed action "HRM.Api.Controllers.EmployeeController.Post (HRM.Api)" in 238.8578ms (afa2e885)
2019-09-24T17:07:08.1814724+07:00 0HLQ0QQAMFHH8:00000008 [INF] Executed endpoint '"HRM.Api.Controllers.EmployeeController.Post (HRM.Api)"' (99874f2b)
2019-09-24T17:07:08.1817576+07:00 0HLQ0QQAMFHH8:00000008 [INF] Request finished in 243.885ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T17:07:25.7076536+07:00 0HLQ0QQAMFHH8:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Login?username=kenchung&password=kenchung123  0 (ca22a1cb)
2019-09-24T17:07:25.7078803+07:00 0HLQ0QQAMFHH8:00000009 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:07:25.7080913+07:00 0HLQ0QQAMFHH8:00000009 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:07:25.7083321+07:00 0HLQ0QQAMFHH8:00000009 [INF] Executing endpoint '"HRM.Api.Controllers.LoginController.Login (HRM.Api)"' (500cc934)
2019-09-24T17:07:25.7120513+07:00 0HLQ0QQAMFHH8:00000009 [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult Login(System.String, System.String)" on controller "HRM.Api.Controllers.LoginController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:07:25.7169774+07:00 0HLQ0QQAMFHH8:00000009 [INF] Executing action method "HRM.Api.Controllers.LoginController.Login (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:07:25.7188111+07:00 0HLQ0QQAMFHH8:00000009 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:07:25.8488123+07:00 0HLQ0QQAMFHH8:00000009 [INF] Executed DbCommand ("88"ms) [Parameters=["@__usename_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[Address], [e].[BasicSalary], [e].[Coefficient], [e].[CreatedBy], [e].[DateCreated], [e].[DateOfBirth], [e].[Email], [e].[EmployeeName], [e].[Flags], [e].[HireDay], [e].[IsDelete], [e].[IsManager], [e].[LastModified], [e].[OwnerId], [e].[Password], [e].[PositionId], [e].[UnitId], [e].[UserName]
FROM [Employee] AS [e]
WHERE [e].[UserName] = @__usename_0" (0723d8ff)
2019-09-24T17:07:25.8583806+07:00 0HLQ0QQAMFHH8:00000009 [INF] Executed action method "HRM.Api.Controllers.LoginController.Login (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 141.0187ms. (50a9e262)
2019-09-24T17:07:25.8588024+07:00 0HLQ0QQAMFHH8:00000009 [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-09-24T17:07:25.8593055+07:00 0HLQ0QQAMFHH8:00000009 [INF] Executed action "HRM.Api.Controllers.LoginController.Login (HRM.Api)" in 146.9454ms (afa2e885)
2019-09-24T17:07:25.8602378+07:00 0HLQ0QQAMFHH8:00000009 [INF] Executed endpoint '"HRM.Api.Controllers.LoginController.Login (HRM.Api)"' (99874f2b)
2019-09-24T17:07:25.8612907+07:00 0HLQ0QQAMFHH8:00000009 [INF] Request finished in 153.1535ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T17:07:28.0450850+07:00 0HLQ0QQAMFHH8:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Login?username=kenchung&password=kenchung123  0 (ca22a1cb)
2019-09-24T17:07:28.0455833+07:00 0HLQ0QQAMFHH8:0000000A [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:07:28.0458461+07:00 0HLQ0QQAMFHH8:0000000A [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:07:28.0464173+07:00 0HLQ0QQAMFHH8:0000000A [INF] Executing endpoint '"HRM.Api.Controllers.LoginController.Login (HRM.Api)"' (500cc934)
2019-09-24T17:07:28.0470076+07:00 0HLQ0QQAMFHH8:0000000A [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult Login(System.String, System.String)" on controller "HRM.Api.Controllers.LoginController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:07:28.0477159+07:00 0HLQ0QQAMFHH8:0000000A [INF] Executing action method "HRM.Api.Controllers.LoginController.Login (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:07:28.0484958+07:00 0HLQ0QQAMFHH8:0000000A [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:07:28.0517952+07:00 0HLQ0QQAMFHH8:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__usename_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[Address], [e].[BasicSalary], [e].[Coefficient], [e].[CreatedBy], [e].[DateCreated], [e].[DateOfBirth], [e].[Email], [e].[EmployeeName], [e].[Flags], [e].[HireDay], [e].[IsDelete], [e].[IsManager], [e].[LastModified], [e].[OwnerId], [e].[Password], [e].[PositionId], [e].[UnitId], [e].[UserName]
FROM [Employee] AS [e]
WHERE [e].[UserName] = @__usename_0" (0723d8ff)
2019-09-24T17:07:28.0529451+07:00 0HLQ0QQAMFHH8:0000000A [INF] Executed action method "HRM.Api.Controllers.LoginController.Login (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8656ms. (50a9e262)
2019-09-24T17:07:28.0534151+07:00 0HLQ0QQAMFHH8:0000000A [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-09-24T17:07:28.0541060+07:00 0HLQ0QQAMFHH8:0000000A [INF] Executed action "HRM.Api.Controllers.LoginController.Login (HRM.Api)" in 6.8128ms (afa2e885)
2019-09-24T17:07:28.0545870+07:00 0HLQ0QQAMFHH8:0000000A [INF] Executed endpoint '"HRM.Api.Controllers.LoginController.Login (HRM.Api)"' (99874f2b)
2019-09-24T17:07:28.0551224+07:00 0HLQ0QQAMFHH8:0000000A [INF] Request finished in 10.1585ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T17:07:41.1912169+07:00 0HLQ0QQAMFHH8:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Employee   (ca22a1cb)
2019-09-24T17:07:41.1920443+07:00 0HLQ0QQAMFHH8:0000000B [INF] Executing endpoint '"HRM.Api.Controllers.EmployeeController.Get (HRM.Api)"' (500cc934)
2019-09-24T17:07:41.2076229+07:00 0HLQ0QQAMFHH8:0000000B [INF] Route matched with "{action = \"Get\", controller = \"Employee\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Get()" on controller "HRM.Api.Controllers.EmployeeController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:07:41.2093281+07:00 0HLQ0QQAMFHH8:0000000B [INF] Executing action method "HRM.Api.Controllers.EmployeeController.Get (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:07:41.2155863+07:00 0HLQ0QQAMFHH8:0000000B [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:07:41.2379048+07:00 0HLQ0QQAMFHH8:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Employee] AS [b]
WHERE [b].[IsDelete] = 0" (0723d8ff)
2019-09-24T17:07:41.2467609+07:00 0HLQ0QQAMFHH8:0000000B [WRN] Query: '"(from Employee b in DbSet<Employee> where [b].IsDelete == False select [b]).Skip(__p_0).Take(__p_1)"' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-09-24T17:07:41.3728216+07:00 0HLQ0QQAMFHH8:0000000B [INF] Executed DbCommand ("106"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[Id], [b].[Address], [b].[BasicSalary], [b].[Coefficient], [b].[CreatedBy], [b].[DateCreated], [b].[DateOfBirth], [b].[Email], [b].[EmployeeName], [b].[Flags], [b].[HireDay], [b].[IsDelete], [b].[IsManager], [b].[LastModified], [b].[OwnerId], [b].[Password], [b].[PositionId], [b].[UnitId], [b].[UserName]
FROM [Employee] AS [b]
WHERE [b].[IsDelete] = 0
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-09-24T17:07:41.3884270+07:00 0HLQ0QQAMFHH8:0000000B [INF] Get success (ad2d04e0)
2019-09-24T17:07:41.3892165+07:00 0HLQ0QQAMFHH8:0000000B [INF] Executed action method "HRM.Api.Controllers.EmployeeController.Get (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 179.3406ms. (50a9e262)
2019-09-24T17:07:41.3897031+07:00 0HLQ0QQAMFHH8:0000000B [INF] Executing ObjectResult, writing value of type '"HRM.UnitOfWork.Collections.PagedList`1[[HRM.Model.ViewModel.Employees.EmployeeViewModel, HRM.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-09-24T17:07:41.3997347+07:00 0HLQ0QQAMFHH8:0000000B [INF] Executed action "HRM.Api.Controllers.EmployeeController.Get (HRM.Api)" in 191.3977ms (afa2e885)
2019-09-24T17:07:41.4001504+07:00 0HLQ0QQAMFHH8:0000000B [INF] Executed endpoint '"HRM.Api.Controllers.EmployeeController.Get (HRM.Api)"' (99874f2b)
2019-09-24T17:07:41.4006371+07:00 0HLQ0QQAMFHH8:0000000B [INF] Request finished in 209.8379ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T17:08:00.5183528+07:00 0HLQ0QQAMFHH8:0000000C [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/Login/api/change-password?id=41d150d3-6954-474f-1f23-08d740d6f562&oldpassword=kenchung123&newpassword=kenchung170798  0 (ca22a1cb)
2019-09-24T17:08:00.5186555+07:00 0HLQ0QQAMFHH8:0000000C [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:08:00.5188737+07:00 0HLQ0QQAMFHH8:0000000C [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T17:08:00.5193446+07:00 0HLQ0QQAMFHH8:0000000C [INF] Executing endpoint '"HRM.Api.Controllers.LoginController.ChangePassword (HRM.Api)"' (500cc934)
2019-09-24T17:08:00.5347721+07:00 0HLQ0QQAMFHH8:0000000C [INF] Route matched with "{action = \"ChangePassword\", controller = \"Login\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] ChangePassword(System.Guid, System.String, System.String)" on controller "HRM.Api.Controllers.LoginController" ("HRM.Api"). (122b2fdf)
2019-09-24T17:08:00.5361163+07:00 0HLQ0QQAMFHH8:0000000C [INF] Executing action method "HRM.Api.Controllers.LoginController.ChangePassword (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T17:08:00.5476341+07:00 0HLQ0QQAMFHH8:0000000C [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T17:08:00.5761069+07:00 0HLQ0QQAMFHH8:0000000C [INF] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[Id], [b].[Address], [b].[BasicSalary], [b].[Coefficient], [b].[CreatedBy], [b].[DateCreated], [b].[DateOfBirth], [b].[Email], [b].[EmployeeName], [b].[Flags], [b].[HireDay], [b].[IsDelete], [b].[IsManager], [b].[LastModified], [b].[OwnerId], [b].[Password], [b].[PositionId], [b].[UnitId], [b].[UserName]
FROM [Employee] AS [b]
WHERE ([b].[Id] = @__id_0) AND ([b].[IsDelete] = 0)" (0723d8ff)
2019-09-24T17:08:00.7734748+07:00 0HLQ0QQAMFHH8:0000000C [INF] Executed DbCommand ("146"ms) [Parameters=["@p18='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Decimal), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (Size = 4000), @p15='?' (DbType = Guid), @p16='?' (DbType = Guid), @p17='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Employee] SET [Address] = @p0, [BasicSalary] = @p1, [Coefficient] = @p2, [CreatedBy] = @p3, [DateCreated] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmployeeName] = @p7, [Flags] = @p8, [HireDay] = @p9, [IsDelete] = @p10, [IsManager] = @p11, [LastModified] = @p12, [OwnerId] = @p13, [Password] = @p14, [PositionId] = @p15, [UnitId] = @p16, [UserName] = @p17
WHERE [Id] = @p18;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-09-24T17:08:00.8291698+07:00 0HLQ0QQAMFHH8:0000000C [INF] Executed action method "HRM.Api.Controllers.LoginController.ChangePassword (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 292.334ms. (50a9e262)
2019-09-24T17:08:00.8297744+07:00 0HLQ0QQAMFHH8:0000000C [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-09-24T17:08:00.8311712+07:00 0HLQ0QQAMFHH8:0000000C [INF] Executed action "HRM.Api.Controllers.LoginController.ChangePassword (HRM.Api)" in 295.3779ms (afa2e885)
2019-09-24T17:08:00.8319501+07:00 0HLQ0QQAMFHH8:0000000C [INF] Executed endpoint '"HRM.Api.Controllers.LoginController.ChangePassword (HRM.Api)"' (99874f2b)
2019-09-24T17:08:00.8329590+07:00 0HLQ0QQAMFHH8:0000000C [INF] Request finished in 314.6389ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T19:43:45.9923288+07:00 0HLQ0TJ9LM7I8:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger   (ca22a1cb)
2019-09-24T19:43:46.0247073+07:00 0HLQ0TJ9LM7I8:00000001 [INF] Request finished in 41.3773ms 301  (791a596a)
2019-09-24T19:43:46.0328661+07:00 0HLQ0TJ9LM7I8:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/   (ca22a1cb)
2019-09-24T19:43:46.0533404+07:00 0HLQ0TJ9LM7I8:00000002 [INF] Request finished in 20.5937ms 200 text/html (791a596a)
2019-09-24T19:43:46.0814788+07:00 0HLQ0TJ9LM7I8:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css   (ca22a1cb)
2019-09-24T19:43:46.1255098+07:00 0HLQ0TJ9LM7I8:00000003 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T19:43:46.1257053+07:00 0HLQ0TJ9LM7I8:00000003 [INF] Request finished in 44.387ms 200 text/css (791a596a)
2019-09-24T19:43:46.1294188+07:00 0HLQ0TJ9LM7IB:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js   (ca22a1cb)
2019-09-24T19:43:46.1359821+07:00 0HLQ0TJ9LM7IC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2019-09-24T19:43:46.1945981+07:00 0HLQ0TJ9LM7IC:00000001 [INF] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T19:43:46.2006371+07:00 0HLQ0TJ9LM7IB:00000001 [INF] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T19:43:46.2014203+07:00 0HLQ0TJ9LM7IB:00000001 [INF] Request finished in 73.3541ms 200 application/javascript (791a596a)
2019-09-24T19:43:46.2017605+07:00 0HLQ0TJ9LM7IC:00000001 [INF] Request finished in 65.5001ms 200 application/javascript (791a596a)
2019-09-24T19:43:46.5730843+07:00 0HLQ0TJ9LM7IB:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json   (ca22a1cb)
2019-09-24T19:43:46.6729982+07:00 0HLQ0TJ9LM7IC:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/favicon-32x32.png   (ca22a1cb)
2019-09-24T19:43:46.6735334+07:00 0HLQ0TJ9LM7IC:00000002 [INF] Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"' (27b0a520)
2019-09-24T19:43:46.6742526+07:00 0HLQ0TJ9LM7IC:00000002 [INF] Request finished in 1.1841ms 200 image/png (791a596a)
2019-09-24T19:43:46.8029101+07:00 0HLQ0TJ9LM7IB:00000002 [INF] Request finished in 229.8913ms 200 application/json (791a596a)
2019-09-24T19:43:53.1474287+07:00 0HLQ0TJ9LM7IB:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Employee   (ca22a1cb)
2019-09-24T19:43:53.2023913+07:00 0HLQ0TJ9LM7IB:00000003 [INF] Executing endpoint '"HRM.Api.Controllers.EmployeeController.Get (HRM.Api)"' (500cc934)
2019-09-24T19:43:53.2532234+07:00 0HLQ0TJ9LM7IB:00000003 [INF] Route matched with "{action = \"Get\", controller = \"Employee\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Get()" on controller "HRM.Api.Controllers.EmployeeController" ("HRM.Api"). (122b2fdf)
2019-09-24T19:43:53.4634040+07:00 0HLQ0TJ9LM7IB:00000003 [INF] Executing action method "HRM.Api.Controllers.EmployeeController.Get (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T19:43:53.7237487+07:00 0HLQ0TJ9LM7IB:00000003 [WRN] No type was specified for the decimal column '"Coefficient"' on entity type '"Employee"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2019-09-24T19:43:53.7741590+07:00 0HLQ0TJ9LM7IB:00000003 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T19:43:54.1239363+07:00 0HLQ0TJ9LM7IB:00000003 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Employee] AS [b]
WHERE [b].[IsDelete] = 0" (0723d8ff)
2019-09-24T19:43:54.1609235+07:00 0HLQ0TJ9LM7IB:00000003 [WRN] Query: '"(from Employee b in DbSet<Employee> where [b].IsDelete == False select [b]).Skip(__p_0).Take(__p_1)"' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-09-24T19:43:54.1902190+07:00 0HLQ0TJ9LM7IB:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[Id], [b].[Address], [b].[BasicSalary], [b].[Coefficient], [b].[CreatedBy], [b].[DateCreated], [b].[DateOfBirth], [b].[Email], [b].[EmployeeName], [b].[Flags], [b].[HireDay], [b].[IsDelete], [b].[IsManager], [b].[LastModified], [b].[OwnerId], [b].[Password], [b].[PositionId], [b].[UnitId], [b].[UserName]
FROM [Employee] AS [b]
WHERE [b].[IsDelete] = 0
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-09-24T19:43:54.2649139+07:00 0HLQ0TJ9LM7IB:00000003 [INF] Get success (ad2d04e0)
2019-09-24T19:43:54.2735286+07:00 0HLQ0TJ9LM7IB:00000003 [INF] Executed action method "HRM.Api.Controllers.EmployeeController.Get (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 804.6428ms. (50a9e262)
2019-09-24T19:43:54.2941402+07:00 0HLQ0TJ9LM7IB:00000003 [INF] Executing ObjectResult, writing value of type '"HRM.UnitOfWork.Collections.PagedList`1[[HRM.Model.ViewModel.Employees.EmployeeViewModel, HRM.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-09-24T19:43:54.3229827+07:00 0HLQ0TJ9LM7IB:00000003 [INF] Executed action "HRM.Api.Controllers.EmployeeController.Get (HRM.Api)" in 1066.1132ms (afa2e885)
2019-09-24T19:43:54.3241380+07:00 0HLQ0TJ9LM7IB:00000003 [INF] Executed endpoint '"HRM.Api.Controllers.EmployeeController.Get (HRM.Api)"' (99874f2b)
2019-09-24T19:43:54.3310308+07:00 0HLQ0TJ9LM7IB:00000003 [INF] Request finished in 1183.7476ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T19:44:13.4522582+07:00 0HLQ0TJ9LM7IB:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Login?username=kenchung&password=kenchung123  0 (ca22a1cb)
2019-09-24T19:44:13.4562867+07:00 0HLQ0TJ9LM7IB:00000004 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T19:44:13.4579603+07:00 0HLQ0TJ9LM7IB:00000004 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T19:44:13.4669717+07:00 0HLQ0TJ9LM7IB:00000004 [INF] Executing endpoint '"HRM.Api.Controllers.LoginController.Login (HRM.Api)"' (500cc934)
2019-09-24T19:44:13.4950262+07:00 0HLQ0TJ9LM7IB:00000004 [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult Login(System.String, System.String)" on controller "HRM.Api.Controllers.LoginController" ("HRM.Api"). (122b2fdf)
2019-09-24T19:44:13.5235232+07:00 0HLQ0TJ9LM7IB:00000004 [INF] Executing action method "HRM.Api.Controllers.LoginController.Login (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T19:44:13.5337748+07:00 0HLQ0TJ9LM7IB:00000004 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T19:44:13.5874803+07:00 0HLQ0TJ9LM7IB:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__usename_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[Address], [e].[BasicSalary], [e].[Coefficient], [e].[CreatedBy], [e].[DateCreated], [e].[DateOfBirth], [e].[Email], [e].[EmployeeName], [e].[Flags], [e].[HireDay], [e].[IsDelete], [e].[IsManager], [e].[LastModified], [e].[OwnerId], [e].[Password], [e].[PositionId], [e].[UnitId], [e].[UserName]
FROM [Employee] AS [e]
WHERE [e].[UserName] = @__usename_0" (0723d8ff)
2019-09-24T19:44:13.6900053+07:00 0HLQ0TJ9LM7IB:00000004 [INF] Executed action method "HRM.Api.Controllers.LoginController.Login (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 166.141ms. (50a9e262)
2019-09-24T19:44:13.6910021+07:00 0HLQ0TJ9LM7IB:00000004 [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-09-24T19:44:13.6928403+07:00 0HLQ0TJ9LM7IB:00000004 [INF] Executed action "HRM.Api.Controllers.LoginController.Login (HRM.Api)" in 197.1044ms (afa2e885)
2019-09-24T19:44:13.6931226+07:00 0HLQ0TJ9LM7IB:00000004 [INF] Executed endpoint '"HRM.Api.Controllers.LoginController.Login (HRM.Api)"' (99874f2b)
2019-09-24T19:44:13.6937128+07:00 0HLQ0TJ9LM7IB:00000004 [INF] Request finished in 241.5181ms 400 application/json; charset=utf-8 (791a596a)
2019-09-24T19:44:28.5233315+07:00 0HLQ0TJ9LM7IB:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Employee   (ca22a1cb)
2019-09-24T19:44:28.5239530+07:00 0HLQ0TJ9LM7IB:00000005 [INF] Executing endpoint '"HRM.Api.Controllers.EmployeeController.Get (HRM.Api)"' (500cc934)
2019-09-24T19:44:28.5250928+07:00 0HLQ0TJ9LM7IB:00000005 [INF] Route matched with "{action = \"Get\", controller = \"Employee\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Get()" on controller "HRM.Api.Controllers.EmployeeController" ("HRM.Api"). (122b2fdf)
2019-09-24T19:44:28.5268793+07:00 0HLQ0TJ9LM7IB:00000005 [INF] Executing action method "HRM.Api.Controllers.EmployeeController.Get (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T19:44:28.5354292+07:00 0HLQ0TJ9LM7IB:00000005 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T19:44:28.5479226+07:00 0HLQ0TJ9LM7IB:00000005 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Employee] AS [b]
WHERE [b].[IsDelete] = 0" (0723d8ff)
2019-09-24T19:44:28.5558730+07:00 0HLQ0TJ9LM7IB:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[Id], [b].[Address], [b].[BasicSalary], [b].[Coefficient], [b].[CreatedBy], [b].[DateCreated], [b].[DateOfBirth], [b].[Email], [b].[EmployeeName], [b].[Flags], [b].[HireDay], [b].[IsDelete], [b].[IsManager], [b].[LastModified], [b].[OwnerId], [b].[Password], [b].[PositionId], [b].[UnitId], [b].[UserName]
FROM [Employee] AS [b]
WHERE [b].[IsDelete] = 0
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-09-24T19:44:28.5632965+07:00 0HLQ0TJ9LM7IB:00000005 [INF] Get success (ad2d04e0)
2019-09-24T19:44:28.5701404+07:00 0HLQ0TJ9LM7IB:00000005 [INF] Executed action method "HRM.Api.Controllers.EmployeeController.Get (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 41.233ms. (50a9e262)
2019-09-24T19:44:28.5754897+07:00 0HLQ0TJ9LM7IB:00000005 [INF] Executing ObjectResult, writing value of type '"HRM.UnitOfWork.Collections.PagedList`1[[HRM.Model.ViewModel.Employees.EmployeeViewModel, HRM.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-09-24T19:44:28.5796226+07:00 0HLQ0TJ9LM7IB:00000005 [INF] Executed action "HRM.Api.Controllers.EmployeeController.Get (HRM.Api)" in 53.2347ms (afa2e885)
2019-09-24T19:44:28.5831506+07:00 0HLQ0TJ9LM7IB:00000005 [INF] Executed endpoint '"HRM.Api.Controllers.EmployeeController.Get (HRM.Api)"' (99874f2b)
2019-09-24T19:44:28.5838499+07:00 0HLQ0TJ9LM7IB:00000005 [INF] Request finished in 61.0174ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T19:44:37.8810678+07:00 0HLQ0TJ9LM7IB:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Login?username=kenchung&password=kenchung170798  0 (ca22a1cb)
2019-09-24T19:44:37.8813756+07:00 0HLQ0TJ9LM7IB:00000006 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T19:44:37.8815992+07:00 0HLQ0TJ9LM7IB:00000006 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T19:44:37.8818547+07:00 0HLQ0TJ9LM7IB:00000006 [INF] Executing endpoint '"HRM.Api.Controllers.LoginController.Login (HRM.Api)"' (500cc934)
2019-09-24T19:44:37.8822564+07:00 0HLQ0TJ9LM7IB:00000006 [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult Login(System.String, System.String)" on controller "HRM.Api.Controllers.LoginController" ("HRM.Api"). (122b2fdf)
2019-09-24T19:44:37.8834411+07:00 0HLQ0TJ9LM7IB:00000006 [INF] Executing action method "HRM.Api.Controllers.LoginController.Login (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T19:44:37.8843415+07:00 0HLQ0TJ9LM7IB:00000006 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T19:44:37.8897846+07:00 0HLQ0TJ9LM7IB:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__usename_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[Address], [e].[BasicSalary], [e].[Coefficient], [e].[CreatedBy], [e].[DateCreated], [e].[DateOfBirth], [e].[Email], [e].[EmployeeName], [e].[Flags], [e].[HireDay], [e].[IsDelete], [e].[IsManager], [e].[LastModified], [e].[OwnerId], [e].[Password], [e].[PositionId], [e].[UnitId], [e].[UserName]
FROM [Employee] AS [e]
WHERE [e].[UserName] = @__usename_0" (0723d8ff)
2019-09-24T19:44:37.8915258+07:00 0HLQ0TJ9LM7IB:00000006 [INF] Executed action method "HRM.Api.Controllers.LoginController.Login (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.6181ms. (50a9e262)
2019-09-24T19:44:37.8921140+07:00 0HLQ0TJ9LM7IB:00000006 [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-09-24T19:44:37.8927363+07:00 0HLQ0TJ9LM7IB:00000006 [INF] Executed action "HRM.Api.Controllers.LoginController.Login (HRM.Api)" in 10.1008ms (afa2e885)
2019-09-24T19:44:37.8930524+07:00 0HLQ0TJ9LM7IB:00000006 [INF] Executed endpoint '"HRM.Api.Controllers.LoginController.Login (HRM.Api)"' (99874f2b)
2019-09-24T19:44:37.8935305+07:00 0HLQ0TJ9LM7IB:00000006 [INF] Request finished in 12.6748ms 200 application/json; charset=utf-8 (791a596a)
2019-09-24T19:45:04.0802986+07:00 0HLQ0TJ9LM7IB:00000007 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/Login/api/change-password?id=41d150d3-6954-474f-1f23-08d740d6f562&oldpassword=kenchung170798&newpassword=kenchung123  0 (ca22a1cb)
2019-09-24T19:45:04.0805289+07:00 0HLQ0TJ9LM7IB:00000007 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T19:45:04.0807018+07:00 0HLQ0TJ9LM7IB:00000007 [INF] CORS policy execution successful. (5409d6ef)
2019-09-24T19:45:04.0809907+07:00 0HLQ0TJ9LM7IB:00000007 [INF] Executing endpoint '"HRM.Api.Controllers.LoginController.ChangePassword (HRM.Api)"' (500cc934)
2019-09-24T19:45:04.0884045+07:00 0HLQ0TJ9LM7IB:00000007 [INF] Route matched with "{action = \"ChangePassword\", controller = \"Login\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] ChangePassword(System.Guid, System.String, System.String)" on controller "HRM.Api.Controllers.LoginController" ("HRM.Api"). (122b2fdf)
2019-09-24T19:45:04.0891853+07:00 0HLQ0TJ9LM7IB:00000007 [INF] Executing action method "HRM.Api.Controllers.LoginController.ChangePassword (HRM.Api)" - Validation state: Valid (dad538d7)
2019-09-24T19:45:04.0954312+07:00 0HLQ0TJ9LM7IB:00000007 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"HRMDBContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=HRM.Model " (9958f5bb)
2019-09-24T19:45:04.1157431+07:00 0HLQ0TJ9LM7IB:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[Id], [b].[Address], [b].[BasicSalary], [b].[Coefficient], [b].[CreatedBy], [b].[DateCreated], [b].[DateOfBirth], [b].[Email], [b].[EmployeeName], [b].[Flags], [b].[HireDay], [b].[IsDelete], [b].[IsManager], [b].[LastModified], [b].[OwnerId], [b].[Password], [b].[PositionId], [b].[UnitId], [b].[UserName]
FROM [Employee] AS [b]
WHERE ([b].[Id] = @__id_0) AND ([b].[IsDelete] = 0)" (0723d8ff)
2019-09-24T19:45:04.2955394+07:00 0HLQ0TJ9LM7IB:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@p18='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Decimal), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (Size = 4000), @p15='?' (DbType = Guid), @p16='?' (DbType = Guid), @p17='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Employee] SET [Address] = @p0, [BasicSalary] = @p1, [Coefficient] = @p2, [CreatedBy] = @p3, [DateCreated] = @p4, [DateOfBirth] = @p5, [Email] = @p6, [EmployeeName] = @p7, [Flags] = @p8, [HireDay] = @p9, [IsDelete] = @p10, [IsManager] = @p11, [LastModified] = @p12, [OwnerId] = @p13, [Password] = @p14, [PositionId] = @p15, [UnitId] = @p16, [UserName] = @p17
WHERE [Id] = @p18;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-09-24T19:45:04.3622113+07:00 0HLQ0TJ9LM7IB:00000007 [INF] Executed action method "HRM.Api.Controllers.LoginController.ChangePassword (HRM.Api)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 272.5173ms. (50a9e262)
2019-09-24T19:45:04.3630771+07:00 0HLQ0TJ9LM7IB:00000007 [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-09-24T19:45:04.3641055+07:00 0HLQ0TJ9LM7IB:00000007 [INF] Executed action "HRM.Api.Controllers.LoginController.ChangePassword (HRM.Api)" in 275.2885ms (afa2e885)
2019-09-24T19:45:04.3648041+07:00 0HLQ0TJ9LM7IB:00000007 [INF] Executed endpoint '"HRM.Api.Controllers.LoginController.ChangePassword (HRM.Api)"' (99874f2b)
2019-09-24T19:45:04.3656505+07:00 0HLQ0TJ9LM7IB:00000007 [INF] Request finished in 285.4357ms 200 application/json; charset=utf-8 (791a596a)
